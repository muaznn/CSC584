<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Admin Dashboard - RecycleHub</title>
    <link rel="stylesheet" href="style.css">
    <style>
        :root {
    --primary-green: #2e7d32; 
    --dark-green: #1b5e20; 
    --info-blue: #2196f3;
    --gray-light: #f5f5f5; 
    --white: #ffffff; 
    --shadow: 0 4px 12px rgba(0, 0, 0, 0.1); 
    --radius: 8px;
    }
    body { background: var(--gray-light); font-family: sans-serif; }
    header { background: var(--primary-green); color: white; padding: 1rem; }
    .container { max-width: 1100px; margin: 0 auto; padding: 20px; }
    .admin-stats { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 30px; }
    .admin-stat { background: white; padding: 20px; border-radius: var(--radius); text-align: center; box-shadow: var(--shadow); }
    .stat-value { font-size: 2rem; font-weight: bold; color: var(--primary-green); }
    .card { background: white; padding: 25px; border-radius: var(--radius); box-shadow: var(--shadow); }
    table { width: 100%; border-collapse: collapse; margin-top: 15px; }
    th, td { padding: 12px; text-align: left; border-bottom: 1px solid #eee; }
    .status-badge { padding: 4px 12px; border-radius: 20px; font-size: 0.8em; font-weight: bold; }
    .status-pending { background: #fff3e0; color: #ef6c00; }
    .btn { padding: 6px 12px; border-radius: 4px; cursor: pointer; border: 1px solid #ddd; background: white; }
    </style>
</head>
<body>
    <header id="header-container"></header>
    <main class="container">
        <h1 class="page-title">Admin Control Panel</h1>
        <div class="admin-stats">
            <div class="admin-stat"><div class="stat-value" id="total-requests">0</div><div class="stat-label">Total Requests</div></div>
            <div class="admin-stat"><div class="stat-value" id="pending-requests">0</div><div class="stat-label">Pending</div></div>
        </div>
        <div class="card">
            <h3>Recent Requests</h3>
            <table>
                <thead><tr><th>ID</th><th>User</th><th>Date</th><th>Status</th><th>Action</th></tr></thead>
                <tbody id="admin-table"></tbody>
            </table>
        </div>
    </main>
    <script src="app-logic.js"></script>
    <script>
        initPage('admin');
        const all = getPickups();
        document.getElementById('total-requests').textContent = all.length;
        document.getElementById('pending-requests').textContent = all.filter(p => p.status === 'pending').length;
        
        document.getElementById('admin-table').innerHTML = all.map(p => `
            <tr>
                <td>REQ-${p.id}</td>
                <td>User ${p.userId}</td>
                <td>${p.date}</td>
                <td><span class="status-badge status-${p.status}">${p.status}</span></td>
                <td><button class="btn" onclick="goToRequest(${p.id})">Manage</button></td>
            </tr>
        `).join('');
        function goToRequest(id) { localStorage.setItem('currentRequestId', id); window.location.href = 'request_details.html'; }
    </script>
</body>
</html>